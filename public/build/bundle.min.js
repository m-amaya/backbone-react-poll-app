/*! Grunt Uglify 2015-07-20 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=(a("./model/Poll"),a("./collection/PollCollection")),e=a("./view/PollCollectionView.jsx"),f=new d;new e({collection:f})},{"./collection/PollCollection":2,"./model/Poll":4,"./view/PollCollectionView.jsx":7}],2:[function(a,b,c){var d=a("../model/Poll");b.exports=Backbone.Collection.extend({model:d,url:"http://localhost:8000/api/polls"})},{"../model/Poll":4}],3:[function(a,b,c){b.exports={componentDidMount:function(){this.getBackboneModels().forEach(function(a){a.on("add change remove",this.forceUpdate.bind(this,null),this)},this)},componentWillUnmount:function(){this.getBackboneModels().forEach(function(a){a.off(null,null,this)},this)}}},{}],4:[function(a,b,c){b.exports=Backbone.Model.extend({defaults:{question:"",opt1:"",opt2:"",opt3:"",opt1votes:0,opt2votes:0,opt3votes:0},idAttribute:"uuid",initialize:function(){this.on("invalid",function(a,b){console.log("Houston, we have a problem: "+b)})},constructor:function(a,b){Backbone.Model.apply(this,arguments)},validate:function(a){return a.question?a.opt1&&a.opt2&&a.opt3?void 0:"Must enter an option here.":"Must enter a question."},urlRoot:"http://localhost:8000/api/polls"})},{}],5:[function(a,b,c){b.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{width:290,height:290,maxColHeight:230,gutter:5}},getColWidth:function(){return this.props.width/3-2*this.props.gutter},getTranslateStr:function(a,b){var c=(a-1)*(this.props.width/3)+this.props.gutter,d=this.props.height-b-10;return"translate("+c+","+d+")"},calcHeight:function(a){var b=Math.max(this.props.poll.get("opt1votes"),this.props.poll.get("opt2votes"),this.props.poll.get("opt3votes"));return this.props.maxColHeight*a/b},render:function(){return this.props.poll.get("opt1votes")||this.props.poll.get("opt2votes")||this.props.poll.get("opt3votes")?React.createElement("svg",{width:this.props.width,height:this.props.height},React.createElement("g",{transform:this.getTranslateStr(1,this.calcHeight(this.props.poll.get("opt1votes")))},React.createElement("rect",{width:this.getColWidth(),height:this.calcHeight(this.props.poll.get("opt1votes")),fill:"#CCCCCC"}),React.createElement("text",{fill:"#555555",y:"-10"},this.props.poll.get("opt1votes")+" Votes")),React.createElement("g",{transform:this.getTranslateStr(2,this.calcHeight(this.props.poll.get("opt2votes")))},React.createElement("rect",{width:this.getColWidth(),height:this.calcHeight(this.props.poll.get("opt2votes")),fill:"#eee"}),React.createElement("text",{fill:"#555555",y:"-10"},this.props.poll.get("opt2votes")+" Votes")),React.createElement("g",{transform:this.getTranslateStr(3,this.calcHeight(this.props.poll.get("opt3votes")))},React.createElement("rect",{width:this.getColWidth(),height:this.calcHeight(this.props.poll.get("opt3votes")),fill:"#FC8C7E"}),React.createElement("text",{fill:"#555555",y:"-10"},this.props.poll.get("opt3votes")+" Votes"))):React.createElement("svg",{width:this.props.width,height:this.props.height},React.createElement("rect",{width:this.props.width,height:this.props.height,fill:"#eee"}))}})},{}],6:[function(a,b,c){var d=a("./PollGridComponent.jsx"),e=a("./PollFormComponent.jsx"),f=a("../mixins/ComponentMixin");b.exports=React.createClass({displayName:"exports",mixins:[f],getBackboneModels:function(){return[this.props.polls]},render:function(){return React.createElement("div",{id:"main-content"},React.createElement("h1",{className:"title"},"keep calm and ",React.createElement("span",null,"POLL ON")),React.createElement("div",{className:"pollCount"},"Poll Count",React.createElement("span",null,this.props.polls.size())),React.createElement(d,{polls:this.props.polls}),React.createElement("div",{id:"form-content"},React.createElement(e,{polls:this.props.polls})),React.createElement("footer",null,React.createElement("i",{className:"fa fa-copyright"})," 2015 mamaya (github.com/m-amaya)"))}})},{"../mixins/ComponentMixin":3,"./PollFormComponent.jsx":9,"./PollGridComponent.jsx":10}],7:[function(a,b,c){var d=a("./PollCollectionComponent.jsx"),e=(a("./PollFormComponent.jsx"),a("../model/Poll"));b.exports=Backbone.View.extend({el:"body",initialize:function(){this.listenTo(this.collection,"add update change:opt1votes change:opt2votes change:opt3votes",this.render,this),this.collection.fetch({success:function(a,b,c){if(console.log("Collection initialized..."),0===a.length){var d=new e({question:"Which new installment of these major movie franchises are you looking forward to this summer?",opt1:"The Terminator",opt2:"Star Wars",opt3:"Jurassic Park"}),f=a;d.save({},{success:function(a,b,c){console.log("Response from [POST]: "+JSON.stringify(b)),f.add(a)},error:function(a,b,c){console.log("Error from [POST]: "+JSON.stringify(b))}})}},error:function(a,b,c){console.log("Houston, we have a problem: "+JSON.stringify(b))}})},render:function(){return React.render(React.createElement(d,{polls:this.collection}),document.body),this}})},{"../model/Poll":4,"./PollCollectionComponent.jsx":6,"./PollFormComponent.jsx":9}],8:[function(a,b,c){var d=a("./VoteDisplayComponent.jsx"),e=a("./PollVoteComponent.jsx");b.exports=React.createClass({displayName:"exports",delPoll:function(){var a=this;this.props.poll.destroy({success:function(b,c,d){console.log("Response from [DELETE]: "+JSON.stringify(c)),a.props.polls.remove(b)},error:function(a,b,c){console.log("Error from [DELETE]: "+JSON.stringify(b))}})},render:function(){return React.createElement("div",{className:"poll"},React.createElement("i",{className:"fa fa-close",onClick:this.delPoll}),React.createElement("div",{className:"question"},this.props.poll.get("question")),React.createElement(d,{poll:this.props.poll}),React.createElement(e,{optSelect:"1",poll:this.props.poll}),React.createElement(e,{optSelect:"2",poll:this.props.poll}),React.createElement(e,{optSelect:"3",poll:this.props.poll}))}})},{"./PollVoteComponent.jsx":11,"./VoteDisplayComponent.jsx":12}],9:[function(a,b,c){var d=a("../model/Poll");b.exports=React.createClass({displayName:"exports",addPoll:function(a){a.preventDefault();var b=React.findDOMNode(this.refs.question).value.trim(),c=React.findDOMNode(this.refs.opt1).value.trim(),e=React.findDOMNode(this.refs.opt2).value.trim(),f=React.findDOMNode(this.refs.opt3).value.trim(),g=new d({question:b,opt1:c,opt2:e,opt3:f}),h=this;g.save({},{success:function(a,b,c){console.log("Response from [POST]: "+JSON.stringify(b)),h.props.polls.add(a),React.findDOMNode(h.refs.question).value="",React.findDOMNode(h.refs.opt1).value="",React.findDOMNode(h.refs.opt2).value="",React.findDOMNode(h.refs.opt3).value=""},error:function(a,b,c){console.log("Error from [POST]: "+JSON.stringify(b))}})},render:function(){return React.createElement("form",{className:"pollForm",onSubmit:this.addPoll},React.createElement("label",{"for":"questionIn",id:"questionLbl"},"Question"),React.createElement("input",{id:"questionIn",type:"text",ref:"question",required:!0,maxLength:"100"}),React.createElement("label",{"for":"opt1In",id:"opt1Lbl"},"Option #1"),React.createElement("input",{id:"opt1In",type:"text",ref:"opt1",required:!0,maxLength:"50"}),React.createElement("label",{"for":"opt2In",id:"opt2Lbl"},"Option #2"),React.createElement("input",{id:"opt2In",type:"text",ref:"opt2",required:!0,maxLength:"50"}),React.createElement("label",{"for":"opt3In",id:"opt3Lbl"},"Option #3"),React.createElement("input",{id:"opt3In",type:"text",ref:"opt3",required:!0,maxLength:"50"}),React.createElement("button",{type:"submit"},"ADD POLL"))}})},{"../model/Poll":4}],10:[function(a,b,c){var d=a("./PollComponent.jsx");b.exports=React.createClass({displayName:"exports",render:function(){var a=this,b=this.props.polls.map(function(b){return React.createElement(d,{poll:b,polls:a.props.polls})});return React.createElement("div",{id:"pollGrid"},b)}})},{"./PollComponent.jsx":8}],11:[function(a,b,c){b.exports=React.createClass({displayName:"exports",upVote:function(){var a="opt"+this.props.optSelect+"votes",b=this.props.poll.get(a),c=b+1;this.props.poll.set(a,c),this.props.poll.save({opt:this.props.optSelect},{success:function(c,d,e){d.message&&c.set(a,b),console.log("Response from [PUT]: "+JSON.stringify(d))},error:function(c,d,e){c.set(a,b),console.log("Error from [PUT]: "+JSON.stringify(d))}})},render:function(){var a="opt"+this.props.optSelect;return React.createElement("div",{className:"pollVote"},React.createElement("div",{className:"opt "+a,onClick:this.upVote},this.props.poll.get(a)))}})},{}],12:[function(a,b,c){var d=a("./D3ChartComponent.jsx");b.exports=React.createClass({displayName:"exports",render:function(){return React.createElement("div",{className:"voteDisplay",id:"a"+this.props.poll.get("uuid")},React.createElement(d,{poll:this.props.poll}))}})},{"./D3ChartComponent.jsx":5}]},{},[2,3,4,5,6,7,8,9,10,11,12,1]);